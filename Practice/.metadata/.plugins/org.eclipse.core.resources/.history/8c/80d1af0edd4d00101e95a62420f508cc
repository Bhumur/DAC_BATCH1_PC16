package com.cdac.rest.UserRestAPI.service;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;

import com.cdac.rest.UserRestAPI.dto.User;
import com.cdac.rest.UserRestAPI.repo.UserRespo;

public class UserServiceImpl implements UserService {

	@Autowired
	UserRespo uRepo;
	
	@Override
	public boolean isValid(String username, String password) {
		Optional<com.cdac.rest.UserRestAPI.entity.User> u = uRepo.findById(username);
		if(u==null) {
			return false;
		}
		com.cdac.rest.UserRestAPI.entity.User user = u.get();
		if(user.getPassword().equals(password)) {
			return true;
		}
		return false;
	}

	@Override
	public Iterator<User> allUser() {
		Iterator<com.cdac.rest.UserRestAPI.entity.User> u =  uRepo.findAll().iterator();
		ArrayList<User> userList = new ArrayList<User>();
		while(u.hasNext()) {
			
		}
	}

}
